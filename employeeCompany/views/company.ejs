<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <table class="table table-striped">
        <caption>Companies list</caption>
        <thead>
            <tr>
                <% const keys = Object.keys(JSON.parse(JSON.stringify(data[0]))) %>
                <% for (let i of Object.keys(JSON.parse(JSON.stringify(data[0])))) { %>
                    <th><%= i %></th>
                <% } %>
            </tr>
        </thead>
        <tbody>
            <% for (let i of data) { %>
                <tr>
                <% const values = Object.entries(JSON.parse(JSON.stringify(i))) %>
                <% for (let j of values) { %>
                    <td><%= j[1] %></td>
                <% } %>
                </tr>
            <% } %>
        </tbody>
    </table>

    <div id = "crud">
        <form id="create-company">
            <label for="company-name">name</label>
            <input type="text" id="company-name">
            <br>
            <label for="company-province">province</label>
            <input type="text" id="company-province">
            <br>
            <label for="company-city">city</label>
            <input type="text" id="company-city">
            <br>
            <label for="company-registerDate">register date</label>
            <input type="date" id="company-registerDate">
            <br>
            <label for="company-phoneNumber">phoneNumber</label>
            <input type="tel" id="company-phoneNumber" pattern="^(\+98)9\d{9}$" placeholder="example +98 9 ?? ??? ?? ?? ">
            <br>
            <input type="submit" value="Create Company">
        </form>

        <form id="update-company">
            <label for="update-company-name">name</label>
            <input type="text" id="update-company-name">
            <br>
            <label for="update-company-province">province</label>
            <input type="text" id="update-company-province">
            <br>
            <label for="update-company-city">city</label>
            <input type="text" id="update-company-city">
            <br>
            <label for="update-company-registerDate">register date</label>
            <input type="date" id="update-company-registerDate">
            <br>
            <label for="update-company-phoneNumber">phoneNumber</label>
            <input type="tel" id="update-company-phoneNumber" pattern="^(\+98)9\d{9}$" placeholder="example +98 9 ?? ??? ?? ?? ">
            <br>
            <input type="submit" value="Update Company">
        </form>
    
        <button id="delete-company">Delete Company</button>
    
        <button id="get-employees">get Employees</button>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/javascripts/company.js"></script>
</body>
</html>